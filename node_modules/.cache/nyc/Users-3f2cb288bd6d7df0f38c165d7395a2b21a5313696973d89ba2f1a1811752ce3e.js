function cov_98uih3dtt(){var path="D:\\Mayura\\Case-Study-Hotel-Management-System\\backend\\Models\\Users.js";var hash="1c17694a7f819109ff5276a1c01ba567b9d9829e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Mayura\\Case-Study-Hotel-Management-System\\backend\\Models\\Users.js",statementMap:{"0":{start:{line:2,column:17},end:{line:2,column:36}},"1":{start:{line:3,column:15},end:{line:3,column:32}},"2":{start:{line:5,column:19},end:{line:17,column:2}},"3":{start:{line:19,column:0},end:{line:23,column:3}},"4":{start:{line:20,column:15},end:{line:20,column:37}},"5":{start:{line:21,column:2},end:{line:21,column:57}},"6":{start:{line:22,column:2},end:{line:22,column:9}},"7":{start:{line:25,column:0},end:{line:35,column:2}},"8":{start:{line:26,column:15},end:{line:26,column:45}},"9":{start:{line:27,column:2},end:{line:33,column:3}},"10":{start:{line:28,column:17},end:{line:28,column:62}},"11":{start:{line:29,column:4},end:{line:31,column:5}},"12":{start:{line:30,column:6},end:{line:30,column:18}},"13":{start:{line:32,column:4},end:{line:32,column:44}},"14":{start:{line:34,column:2},end:{line:34,column:40}},"15":{start:{line:37,column:13},end:{line:37,column:47}},"16":{start:{line:39,column:0},end:{line:39,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:23},end:{line:19,column:24}},loc:{start:{line:19,column:44},end:{line:23,column:1}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:27},end:{line:25,column:28}},loc:{start:{line:25,column:60},end:{line:35,column:1}},line:25}},branchMap:{"0":{loc:{start:{line:27,column:2},end:{line:33,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:33,column:3}},{start:{line:27,column:2},end:{line:33,column:3}}],line:27},"1":{loc:{start:{line:29,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:31,column:5}},{start:{line:29,column:4},end:{line:31,column:5}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1c17694a7f819109ff5276a1c01ba567b9d9829e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_98uih3dtt=function(){return actualCoverage;};}return actualCoverage;}cov_98uih3dtt();const mongoose=(cov_98uih3dtt().s[0]++,require('mongoose'));const bcrypt=(cov_98uih3dtt().s[1]++,require('bcrypt'));const userSchema=(cov_98uih3dtt().s[2]++,new mongoose.Schema({userId:{type:String,lowercase:true},role:{type:String},password:{type:String,minlength:6}}));cov_98uih3dtt().s[3]++;userSchema.pre('save',async function(next){cov_98uih3dtt().f[0]++;const salt=(cov_98uih3dtt().s[4]++,await bcrypt.genSalt());cov_98uih3dtt().s[5]++;this.password=await bcrypt.hash(this.password,salt);cov_98uih3dtt().s[6]++;next();});cov_98uih3dtt().s[7]++;userSchema.statics.login=async function(userId,password){cov_98uih3dtt().f[1]++;const user=(cov_98uih3dtt().s[8]++,await this.findOne({userId}));cov_98uih3dtt().s[9]++;if(user){cov_98uih3dtt().b[0][0]++;const auth=(cov_98uih3dtt().s[10]++,await bcrypt.compare(password,user.password));cov_98uih3dtt().s[11]++;if(auth){cov_98uih3dtt().b[1][0]++;cov_98uih3dtt().s[12]++;return user;}else{cov_98uih3dtt().b[1][1]++;}cov_98uih3dtt().s[13]++;throw Error('Enter the password again');}else{cov_98uih3dtt().b[0][1]++;}cov_98uih3dtt().s[14]++;throw Error('Enter the userId again');};const User=(cov_98uih3dtt().s[15]++,mongoose.model('user',userSchema));cov_98uih3dtt().s[16]++;module.exports=User;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImJjcnlwdCIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiU3RyaW5nIiwibG93ZXJjYXNlIiwicm9sZSIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwicHJlIiwibmV4dCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInN0YXRpY3MiLCJsb2dpbiIsInVzZXIiLCJmaW5kT25lIiwiYXV0aCIsImNvbXBhcmUiLCJFcnJvciIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJvMUVBZVk7eUZBZFosS0FBTUEsQ0FBQUEsUUFBUSx5QkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBRUEsS0FBTUUsQ0FBQUEsVUFBVSx5QkFBRyxHQUFJSCxDQUFBQSxRQUFRLENBQUNJLE1BQWIsQ0FBb0IsQ0FDckNDLE1BQU0sQ0FBRSxDQUNOQyxJQUFJLENBQUVDLE1BREEsQ0FFTkMsU0FBUyxDQUFFLElBRkwsQ0FENkIsQ0FLckNDLElBQUksQ0FBRSxDQUNKSCxJQUFJLENBQUVDLE1BREYsQ0FMK0IsQ0FRckNHLFFBQVEsQ0FBRSxDQUNSSixJQUFJLENBQUVDLE1BREUsQ0FFUkksU0FBUyxDQUFFLENBRkgsQ0FSMkIsQ0FBcEIsQ0FBSCxDQUFoQixDLHVCQWNBUixVQUFVLENBQUNTLEdBQVgsQ0FBZSxNQUFmLENBQXVCLGVBQWVDLElBQWYsQ0FBcUIsd0JBQzFDLEtBQU1DLENBQUFBLElBQUkseUJBQUcsS0FBTVosQ0FBQUEsTUFBTSxDQUFDYSxPQUFQLEVBQVQsQ0FBVixDQUQwQyx1QkFFMUMsS0FBS0wsUUFBTCxDQUFnQixLQUFNUixDQUFBQSxNQUFNLENBQUNjLElBQVAsQ0FBWSxLQUFLTixRQUFqQixDQUEyQkksSUFBM0IsQ0FBdEIsQ0FGMEMsdUJBRzFDRCxJQUFJLEdBQ0wsQ0FKRCxFLHVCQU1BVixVQUFVLENBQUNjLE9BQVgsQ0FBbUJDLEtBQW5CLENBQTJCLGVBQWViLE1BQWYsQ0FBdUJLLFFBQXZCLENBQWlDLHdCQUMxRCxLQUFNUyxDQUFBQSxJQUFJLHlCQUFHLEtBQU0sTUFBS0MsT0FBTCxDQUFhLENBQUVmLE1BQUYsQ0FBYixDQUFULENBQVYsQ0FEMEQsdUJBRTFELEdBQUljLElBQUosQ0FBVSwyQkFDUixLQUFNRSxDQUFBQSxJQUFJLDBCQUFHLEtBQU1uQixDQUFBQSxNQUFNLENBQUNvQixPQUFQLENBQWVaLFFBQWYsQ0FBeUJTLElBQUksQ0FBQ1QsUUFBOUIsQ0FBVCxDQUFWLENBRFEsd0JBRVIsR0FBSVcsSUFBSixDQUFVLG1EQUNSLE1BQU9GLENBQUFBLElBQVAsQ0FDRCxDQUZELGdDQUZRLHdCQUtSLEtBQU1JLENBQUFBLEtBQUssQ0FBQywwQkFBRCxDQUFYLENBQ0QsQ0FORCxnQ0FGMEQsd0JBUzFELEtBQU1BLENBQUFBLEtBQUssQ0FBQyx3QkFBRCxDQUFYLENBQ0QsQ0FWRCxDQVlBLEtBQU1DLENBQUFBLElBQUksMEJBQUd4QixRQUFRLENBQUN5QixLQUFULENBQWUsTUFBZixDQUF1QnRCLFVBQXZCLENBQUgsQ0FBVixDLHdCQUVBdUIsTUFBTSxDQUFDQyxPQUFQLENBQWlCSCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIiAgXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0Jyk7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBsb3dlcmNhc2U6IHRydWUsIFxyXG4gIH0sXHJcbiAgcm9sZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIG1pbmxlbmd0aDogNixcclxuICB9XHJcbn0pO1xyXG5cclxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KCk7XHJcbiAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xyXG4gIG5leHQoKTtcclxufSk7IFxyXG5cclxudXNlclNjaGVtYS5zdGF0aWNzLmxvZ2luID0gYXN5bmMgZnVuY3Rpb24odXNlcklkLCBwYXNzd29yZCkge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB1c2VySWQgfSk7XHJcbiAgaWYgKHVzZXIpIHtcclxuICAgIGNvbnN0IGF1dGggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcbiAgICBpZiAoYXV0aCkge1xyXG4gICAgICByZXR1cm4gdXNlcjtcclxuICAgIH1cclxuICAgIHRocm93IEVycm9yKCdFbnRlciB0aGUgcGFzc3dvcmQgYWdhaW4nKTtcclxuICB9XHJcbiAgdGhyb3cgRXJyb3IoJ0VudGVyIHRoZSB1c2VySWQgYWdhaW4nKTtcclxufTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBVc2VyOyJdfQ==