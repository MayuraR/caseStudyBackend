function cov_1crly9v6n2(){var path="D:\\Mayura\\Case-Study-Hotel-Management-System\\backend\\middleware\\authentication.js";var hash="8f8021712bde22f1cec06ec7a79bec9487373027";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Mayura\\Case-Study-Hotel-Management-System\\backend\\middleware\\authentication.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:2,column:8},end:{line:2,column:10}},"2":{start:{line:4,column:20},end:{line:19,column:1}},"3":{start:{line:5,column:2},end:{line:7,column:3}},"4":{start:{line:6,column:4},end:{line:6,column:55}},"5":{start:{line:8,column:14},end:{line:8,column:53}},"6":{start:{line:9,column:2},end:{line:11,column:3}},"7":{start:{line:10,column:4},end:{line:10,column:55}},"8":{start:{line:12,column:16},end:{line:12,column:53}},"9":{start:{line:13,column:2},end:{line:15,column:3}},"10":{start:{line:14,column:4},end:{line:14,column:55}},"11":{start:{line:16,column:2},end:{line:16,column:21}},"12":{start:{line:17,column:2},end:{line:17,column:16}},"13":{start:{line:18,column:2},end:{line:18,column:8}},"14":{start:{line:21,column:13},end:{line:23,column:1}},"15":{start:{line:22,column:2},end:{line:22,column:11}},"16":{start:{line:25,column:0},end:{line:25,column:39}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:40},end:{line:19,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:23,column:1}},line:21}},branchMap:{"0":{loc:{start:{line:5,column:2},end:{line:7,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:7,column:3}},{start:{line:5,column:2},end:{line:7,column:3}}],line:5},"1":{loc:{start:{line:9,column:2},end:{line:11,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:11,column:3}},{start:{line:9,column:2},end:{line:11,column:3}}],line:9},"2":{loc:{start:{line:13,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:13,column:2},end:{line:15,column:3}},{start:{line:13,column:2},end:{line:15,column:3}}],line:13}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8f8021712bde22f1cec06ec7a79bec9487373027"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1crly9v6n2=function(){return actualCoverage;};}return actualCoverage;}cov_1crly9v6n2();const jwt=(cov_1crly9v6n2().s[0]++,require('jsonwebtoken'));let r=(cov_1crly9v6n2().s[1]++,'');cov_1crly9v6n2().s[2]++;const requireAuth=(req,res,next)=>{cov_1crly9v6n2().f[0]++;cov_1crly9v6n2().s[3]++;if(!req.headers.authorization){cov_1crly9v6n2().b[0][0]++;cov_1crly9v6n2().s[4]++;return res.status(401).send('Unauthorized request');}else{cov_1crly9v6n2().b[0][1]++;}let token=(cov_1crly9v6n2().s[5]++,req.headers.authorization.split(' ')[1]);cov_1crly9v6n2().s[6]++;if(token==='null'){cov_1crly9v6n2().b[1][0]++;cov_1crly9v6n2().s[7]++;return res.status(401).send('Unauthorized request');}else{cov_1crly9v6n2().b[1][1]++;}let payload=(cov_1crly9v6n2().s[8]++,jwt.verify(token,'net ninja secret'));cov_1crly9v6n2().s[9]++;if(!payload){cov_1crly9v6n2().b[2][0]++;cov_1crly9v6n2().s[10]++;return res.status(401).send('Unauthorized request');}else{cov_1crly9v6n2().b[2][1]++;}cov_1crly9v6n2().s[11]++;r=payload.subject;cov_1crly9v6n2().s[12]++;console.log(r);cov_1crly9v6n2().s[13]++;next();};cov_1crly9v6n2().s[14]++;const role=()=>{cov_1crly9v6n2().f[1]++;cov_1crly9v6n2().s[15]++;return r;};cov_1crly9v6n2().s[16]++;module.exports={requireAuth,role};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0aW9uLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJyIiwicmVxdWlyZUF1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwidG9rZW4iLCJzcGxpdCIsInBheWxvYWQiLCJ2ZXJpZnkiLCJzdWJqZWN0IiwiY29uc29sZSIsImxvZyIsInJvbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiK2hGQWVZOzJGQWZaLEtBQU1BLENBQUFBLEdBQUcsMEJBQUdDLE9BQU8sQ0FBQyxjQUFELENBQVYsQ0FBVCxDQUNBLEdBQUlDLENBQUFBLENBQUMsMEJBQUcsRUFBSCxDQUFMLEMsd0JBRUEsS0FBTUMsQ0FBQUEsV0FBVyxDQUFHLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLGlEQUN0QyxHQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxhQUFoQixDQUErQixvREFDN0IsTUFBT0gsQ0FBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsc0JBQXJCLENBQVAsQ0FDRCxDQUZELGlDQUdBLEdBQUlDLENBQUFBLEtBQUssMEJBQUdQLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxhQUFaLENBQTBCSSxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFILENBQVQsQ0FKc0Msd0JBS3RDLEdBQUdELEtBQUssR0FBSyxNQUFiLENBQXFCLG9EQUNuQixNQUFPTixDQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixzQkFBckIsQ0FBUCxDQUNELENBRkQsaUNBR0EsR0FBSUcsQ0FBQUEsT0FBTywwQkFBR2IsR0FBRyxDQUFDYyxNQUFKLENBQVdILEtBQVgsQ0FBa0Isa0JBQWxCLENBQUgsQ0FBWCxDQVJzQyx3QkFTdEMsR0FBRyxDQUFDRSxPQUFKLENBQWEscURBQ1gsTUFBT1IsQ0FBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsc0JBQXJCLENBQVAsQ0FDRCxDQUZELGlDQVRzQyx5QkFZdENSLENBQUMsQ0FBR1csT0FBTyxDQUFDRSxPQUFaLENBWnNDLHlCQWF0Q0MsT0FBTyxDQUFDQyxHQUFSLENBQVlmLENBQVosRUFic0MseUJBY3RDSSxJQUFJLEdBQ0wsQ0FmRCxDLHlCQWlCQSxLQUFNWSxDQUFBQSxJQUFJLENBQUcsSUFBTSxrREFDakIsTUFBT2hCLENBQUFBLENBQVAsQ0FDRCxDQUZELEMseUJBSUFpQixNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBRWpCLFdBQUYsQ0FBZWUsSUFBZixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xubGV0IHIgPSAnJztcblxuY29uc3QgcmVxdWlyZUF1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYoIXJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VuYXV0aG9yaXplZCByZXF1ZXN0JylcbiAgfVxuICBsZXQgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV1cbiAgaWYodG9rZW4gPT09ICdudWxsJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCgnVW5hdXRob3JpemVkIHJlcXVlc3QnKSAgICBcbiAgfVxuICBsZXQgcGF5bG9hZCA9IGp3dC52ZXJpZnkodG9rZW4sICduZXQgbmluamEgc2VjcmV0JylcbiAgaWYoIXBheWxvYWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VuYXV0aG9yaXplZCByZXF1ZXN0JykgICAgXG4gIH1cbiAgciA9IHBheWxvYWQuc3ViamVjdFxuICBjb25zb2xlLmxvZyhyKVxuICBuZXh0KClcbn07XG5cbmNvbnN0IHJvbGUgPSAoKSA9PiB7XG4gIHJldHVybiByO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcmVxdWlyZUF1dGgsIHJvbGUgfTsiXX0=